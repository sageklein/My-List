(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n(0),c=n.n(a),r=n(28),i=n.n(r),o=n(14),j=n(7),l=n(10),d=n(46),b=n(16),u=(n(37),Object(a.createContext)()),h=function(e){var t=sessionStorage.getItem("userProfile"),n=Object(a.useState)(null!=t),c=Object(l.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(!1),j=Object(l.a)(o,2),h=j[0],O=j[1],m=new b.a.auth.GoogleAuthProvider;Object(a.useEffect)((function(){b.a.auth().onAuthStateChanged((function(e){O(!0)}))}),[]);return Object(s.jsx)(u.Provider,{value:{isLoggedIn:r,login:function(e,t){return b.a.auth().signInWithEmailAndPassword(e,t).then((function(e){sessionStorage.setItem("userProfile",JSON.stringify(e.user)),i(!0)}))},logout:function(){return b.a.auth().signOut().then((function(){sessionStorage.clear(),i(!1)}))},register:function(e,t){return b.a.auth().createUserWithEmailAndPassword(e.email,t).then((function(e){console.log("savedU",e),sessionStorage.setItem("userProfile",JSON.stringify(e.user)),i(!0)}))},signInWithGoogle:function(){return b.a.auth().signInWithPopup(m).then((function(e){console.log("savedU",e),sessionStorage.setItem("userProfile",JSON.stringify(e.user)),i(!0)}))}},children:h?e.children:Object(s.jsx)(d.a,{className:"app-spinner dark"})})},O=n(48),m=n(47),x=n(30),g=n(49);function f(){var e=Object(j.g)(),t=Object(a.useContext)(u).login,n=Object(a.useContext)(u).signInWithGoogle,c=Object(a.useState)(),r=Object(l.a)(c,2),i=r[0],d=r[1],b=Object(a.useState)(),h=Object(l.a)(b,2),f=h[0],p=h[1];return Object(s.jsx)(O.a,{className:"Form",onSubmit:function(n){n.preventDefault(),t(i,f).then((function(){return e.push("/")})).catch((function(){return alert("Invalid email or password")}))},children:Object(s.jsxs)("div",{className:"fieldset",children:[Object(s.jsxs)(O.a.Group,{as:m.a,controlId:"formPlaintextEmail",children:[Object(s.jsx)(O.a.Label,{column:!0,sm:"2",children:"Email"}),Object(s.jsx)(x.a,{sm:"10",children:Object(s.jsx)(O.a.Control,{plaintext:!0,readOnly:!0,defaultValue:"email@example.com",onChange:function(e){return d(e.target.value)}})})]}),Object(s.jsxs)(O.a.Group,{as:m.a,controlId:"formPlaintextPassword",children:[Object(s.jsx)(O.a.Label,{column:!0,sm:"2",children:"Password"}),Object(s.jsx)(x.a,{sm:"10",children:Object(s.jsx)(O.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return p(e.target.value)}})})]}),Object(s.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"}),Object(s.jsx)("div",{className:"or",children:"- or -"}),Object(s.jsx)(g.a,{onClick:function(){n().then((function(t){return e.push("/")}))},varient:"Link",children:"Login with Google"}),Object(s.jsx)("em",{children:Object(s.jsxs)("div",{className:"register",children:["Not registered? ",Object(s.jsx)(o.b,{to:"register",children:"Register"})]})})]})})}function p(){var e=Object(j.g)(),t=Object(a.useContext)(u).register,n=Object(a.useState)(),c=Object(l.a)(n,2),r=c[0],i=c[1],d=Object(a.useState)(),b=Object(l.a)(d,2),h=b[0],m=b[1],x=Object(a.useState)(),f=Object(l.a)(x,2),p=f[0],v=f[1],y=Object(a.useState)(),w=Object(l.a)(y,2),N=w[0],C=w[1];return Object(s.jsx)(O.a,{className:"Form",onSubmit:function(n){(n.preventDefault(),p&&p!==N)?alert("Passwords don't match. Do better."):t({name:r,email:h},p).then((function(){return e.push("/")}))},children:Object(s.jsxs)("div",{className:"fieldset",children:[Object(s.jsxs)(O.a.Group,{children:[Object(s.jsx)(O.a.Label,{children:"Name"}),Object(s.jsx)(O.a.Control,{id:"name",type:"text",onChange:function(e){return i(e.target.value)}})]}),Object(s.jsxs)(O.a.Group,{controlId:"email",children:[Object(s.jsx)(O.a.Label,{children:"Email"}),Object(s.jsx)(O.a.Control,{type:"text",onChange:function(e){return m(e.target.value)}})]}),Object(s.jsxs)(O.a.Group,{controlId:"password",children:[Object(s.jsx)(O.a.Label,{children:"Password"}),Object(s.jsx)(O.a.Control,{type:"password",onChange:function(e){return v(e.target.value)}})]}),Object(s.jsxs)(O.a.Group,{controlId:"confirmPassword",children:[Object(s.jsx)(O.a.Label,{children:"Confirm Password"}),Object(s.jsx)(O.a.Control,{type:"password",onChange:function(e){return C(e.target.value)}})]}),Object(s.jsx)(g.a,{variant:"primary",type:"submit",children:"Register"}),Object(s.jsx)("em",{children:Object(s.jsxs)("div",{className:"register",children:["Already registered? ",Object(s.jsx)(o.b,{to:"login",children:"Login"})]})})]})})}var v=n(31),y="https://christmaslist-a8957-default-rtdb.firebaseio.com/",w=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){fetch("".concat(y,"/christList.json")).then((function(e){return e.json()})).then((function(e){console.log("data",e);var t=Object.keys(e).map((function(t,n){return e[t].fbid=t,e[t].checked=!1,e[t]}));console.log("newArray",t),r(t)}))}),[]);var i=function(e){console.log("event.target.id",e.target.id);var t=Object(v.a)(n);t.map((function(t){return t.fbid===e.target.id&&(t.checked=!t.checked),t})),r(t)};return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{id:"checklist",children:n.map((function(e){return Object(s.jsxs)(c.a.Fragment,{children:[Object(s.jsx)("input",{id:e.fbid,type:"checkbox",checked:e.checked,onChange:i}),Object(s.jsx)("label",{htmlFor:e.fbid,children:e.title})]},e.fbid)}))})})},N=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("h4",{children:"Add An Item to the Christmas List"})})};function C(){var e=Object(a.useContext)(u).isLoggedIn;return Object(s.jsx)("main",{children:Object(s.jsxs)(j.d,{children:[Object(s.jsx)(j.b,{path:"/",exact:!0,children:e?Object(s.jsx)(w,{}):Object(s.jsx)(j.a,{to:"/login"})}),Object(s.jsx)(j.b,{path:"/add",children:e?Object(s.jsx)(N,{}):Object(s.jsx)(j.a,{to:"/login"})}),Object(s.jsx)(j.b,{path:"/login",children:Object(s.jsx)(f,{})}),Object(s.jsx)(j.b,{path:"/register",children:Object(s.jsx)(p,{})})]})})}var I=function(){var e=Object(a.useContext)(u),t=(e.isLoggedIn,e.logout);return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h4",{className:"niceList",children:"Nice List"}),Object(s.jsx)("a",{"aria-current":"page",className:"nav-link",style:{cursor:"pointer"},onClick:t,children:"Logout"})]})};var S=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsx)("div",{className:"snow layer1 a"}),Object(s.jsx)("div",{className:"snow layer1"}),Object(s.jsx)("div",{className:"snow layer2 a"}),Object(s.jsx)("div",{className:"snow layer2"}),Object(s.jsx)("div",{className:"snow layer3 a"}),Object(s.jsx)("div",{className:"snow layer3"}),Object(s.jsxs)("div",{className:"content",children:[Object(s.jsx)("h1",{children:"Meowy Christmas"}),Object(s.jsx)(o.a,{children:Object(s.jsxs)(h,{children:[Object(s.jsx)(I,{}),Object(s.jsx)(C,{})]})})]})]})})};n(44);b.a.initializeApp({apiKey:"AIzaSyDhYIu6EQI0Be8BBJXNTd80H_tffLCLGJQ",authDomain:"christmaslist-a8957.firebaseapp.com",databaseURL:"https://christmaslist-a8957-default-rtdb.firebaseio.com",projectId:"christmaslist-a8957",storageBucket:"christmaslist-a8957.appspot.com",messagingSenderId:"146934597776",appId:"1:146934597776:web:a443d3c3db4540260e3015",measurementId:"G-BF1404LWNQ"}),i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(o.a,{basename:"/My-List",children:Object(s.jsx)(h,{children:Object(s.jsx)(S,{})})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.297d739b.chunk.js.map