(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{44:function(e,t,s){},45:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s(0),c=s.n(a),r=s(28),i=s.n(r),o=s(14),j=s(7),l=s(10),d=s(46),b=s(16),u=(s(37),Object(a.createContext)()),h=function(e){var t=sessionStorage.getItem("userProfile"),s=Object(a.useState)(null!=t),c=Object(l.a)(s,2),r=c[0],i=c[1],o=Object(a.useState)(!1),j=Object(l.a)(o,2),h=j[0],O=j[1],x=new b.a.auth.GoogleAuthProvider;Object(a.useEffect)((function(){b.a.auth().onAuthStateChanged((function(e){O(!0)}))}),[]);return Object(n.jsx)(u.Provider,{value:{isLoggedIn:r,login:function(e,t){return b.a.auth().signInWithEmailAndPassword(e,t).then((function(e){sessionStorage.setItem("userProfile",JSON.stringify(e.user)),i(!0)}))},logout:function(){return b.a.auth().signOut().then((function(){sessionStorage.clear(),i(!1)}))},register:function(e,t){return b.a.auth().createUserWithEmailAndPassword(e.email,t).then((function(e){console.log("savedU",e),sessionStorage.setItem("userProfile",JSON.stringify(e.user)),i(!0)}))},signInWithGoogle:function(){return b.a.auth().signInWithPopup(x).then((function(e){console.log("savedU",e),sessionStorage.setItem("userProfile",JSON.stringify(e.user)),i(!0)}))}},children:h?e.children:Object(n.jsx)(d.a,{className:"app-spinner dark"})})},O=s(48),x=s(47),m=s(30),g=s(49);function f(){var e=Object(j.g)(),t=Object(a.useContext)(u).login,s=Object(a.useContext)(u).signInWithGoogle,c=Object(a.useState)(),r=Object(l.a)(c,2),i=r[0],d=r[1],b=Object(a.useState)(),h=Object(l.a)(b,2),f=h[0],p=h[1];return console.log("hello"),Object(n.jsx)(O.a,{className:"Form",onSubmit:function(s){s.preventDefault(),t(i,f).then((function(){return e.push("/")})).catch((function(){return alert("Invalid email or password")}))},children:Object(n.jsxs)("div",{className:"fieldset",children:[Object(n.jsxs)(O.a.Group,{as:x.a,controlId:"formPlaintextEmail",children:[Object(n.jsx)(O.a.Label,{column:!0,sm:"2",children:"Email"}),Object(n.jsx)(m.a,{sm:"10",children:Object(n.jsx)(O.a.Control,{plaintext:!0,readOnly:!0,defaultValue:"email@example.com",onChange:function(e){return d(e.target.value)}})})]}),Object(n.jsxs)(O.a.Group,{as:x.a,controlId:"formPlaintextPassword",children:[Object(n.jsx)(O.a.Label,{column:!0,sm:"2",children:"Password"}),Object(n.jsx)(m.a,{sm:"10",children:Object(n.jsx)(O.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return p(e.target.value)}})})]}),Object(n.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"}),Object(n.jsx)("div",{className:"or",children:"- or -"}),Object(n.jsx)(g.a,{onClick:function(){s().then((function(t){return e.push("/")}))},varient:"Link",children:"Login with Google"}),Object(n.jsx)("em",{children:Object(n.jsxs)("div",{className:"register",children:["Not registered? ",Object(n.jsx)(o.b,{to:"register",children:"Register"})]})})]})})}function p(){var e=Object(j.g)(),t=Object(a.useContext)(u).register,s=Object(a.useState)(),c=Object(l.a)(s,2),r=c[0],i=c[1],d=Object(a.useState)(),b=Object(l.a)(d,2),h=b[0],x=b[1],m=Object(a.useState)(),f=Object(l.a)(m,2),p=f[0],v=f[1],y=Object(a.useState)(),w=Object(l.a)(y,2),N=w[0],C=w[1];return Object(n.jsx)(O.a,{className:"Form",onSubmit:function(s){(s.preventDefault(),p&&p!==N)?alert("Passwords don't match. Do better."):t({name:r,email:h},p).then((function(){return e.push("/")}))},children:Object(n.jsxs)("div",{className:"fieldset",children:[Object(n.jsxs)(O.a.Group,{children:[Object(n.jsx)(O.a.Label,{children:"Name"}),Object(n.jsx)(O.a.Control,{id:"name",type:"text",onChange:function(e){return i(e.target.value)}})]}),Object(n.jsxs)(O.a.Group,{controlId:"email",children:[Object(n.jsx)(O.a.Label,{children:"Email"}),Object(n.jsx)(O.a.Control,{type:"text",onChange:function(e){return x(e.target.value)}})]}),Object(n.jsxs)(O.a.Group,{controlId:"password",children:[Object(n.jsx)(O.a.Label,{children:"Password"}),Object(n.jsx)(O.a.Control,{type:"password",onChange:function(e){return v(e.target.value)}})]}),Object(n.jsxs)(O.a.Group,{controlId:"confirmPassword",children:[Object(n.jsx)(O.a.Label,{children:"Confirm Password"}),Object(n.jsx)(O.a.Control,{type:"password",onChange:function(e){return C(e.target.value)}})]}),Object(n.jsx)(g.a,{variant:"primary",type:"submit",children:"Register"}),Object(n.jsx)("em",{children:Object(n.jsxs)("div",{className:"register",children:["Already registered? ",Object(n.jsx)(o.b,{to:"login",children:"Login"})]})})]})})}var v=s(31),y="https://christmaslist-a8957-default-rtdb.firebaseio.com/",w=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),s=t[0],r=t[1];Object(a.useEffect)((function(){fetch("".concat(y,"/christList.json")).then((function(e){return e.json()})).then((function(e){console.log("data",e);var t=Object.keys(e).map((function(t,s){return e[t].fbid=t,e[t].checked=!1,e[t]}));console.log("newArray",t),r(t)}))}),[]);var i=function(e){console.log("event.target.id",e.target.id);var t=Object(v.a)(s);t.map((function(t){return t.fbid===e.target.id&&(t.checked=!t.checked),t})),r(t)};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{id:"checklist",children:s.map((function(e){return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)("input",{id:e.fbid,type:"checkbox",checked:e.checked,onChange:i}),Object(n.jsx)("label",{htmlFor:e.fbid,children:e.title})]},e.fbid)}))})})},N=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("h4",{children:"Add An Item to the Christmas List"})})};function C(){var e=Object(a.useContext)(u).isLoggedIn;return Object(n.jsx)("main",{children:Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{exact:!0,path:"/",children:e?Object(n.jsx)(w,{}):Object(n.jsx)(j.a,{to:"/login"})}),Object(n.jsx)(j.b,{path:"/add",children:e?Object(n.jsx)(N,{}):Object(n.jsx)(j.a,{to:"/login"})}),Object(n.jsx)(j.b,{path:"/login",children:Object(n.jsx)(f,{})}),Object(n.jsx)(j.b,{path:"/register",children:Object(n.jsx)(p,{})})]})})}var I=function(){var e=Object(a.useContext)(u),t=(e.isLoggedIn,e.logout);return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h4",{className:"niceList",children:"Nice List"}),Object(n.jsx)("a",{"aria-current":"page",className:"nav-link",style:{cursor:"pointer"},onClick:t,children:"Logout"})]})};var S=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"snow layer4 a"}),Object(n.jsx)("div",{className:"snow layer4"}),Object(n.jsx)("div",{className:"snow layer1 a"}),Object(n.jsx)("div",{className:"snow layer1"}),Object(n.jsx)("div",{className:"snow layer2 a"}),Object(n.jsx)("div",{className:"snow layer2"}),Object(n.jsx)("div",{className:"snow layer3 a"}),Object(n.jsx)("div",{className:"snow layer3"}),Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)("h1",{children:"Meowy  MEOWY Christmas"}),Object(n.jsx)(o.a,{children:Object(n.jsxs)(h,{children:[Object(n.jsx)(I,{}),Object(n.jsx)(C,{})]})})]})]})})};s(44);b.a.initializeApp({apiKey:"AIzaSyDhYIu6EQI0Be8BBJXNTd80H_tffLCLGJQ",authDomain:"christmaslist-a8957.firebaseapp.com",databaseURL:"https://christmaslist-a8957-default-rtdb.firebaseio.com",projectId:"christmaslist-a8957",storageBucket:"christmaslist-a8957.appspot.com",messagingSenderId:"146934597776",appId:"1:146934597776:web:a443d3c3db4540260e3015",measurementId:"G-BF1404LWNQ"}),i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)(h,{children:Object(n.jsx)(S,{})})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.96942ceb.chunk.js.map